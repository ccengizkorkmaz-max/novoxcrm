(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},24687,e=>{"use strict";var a=e.i(43476),t=e.i(75157);function s({className:e,...s}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},52571,e=>{"use strict";let a=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>a],52571)},76098,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(15288),l=e.i(19455),i=e.i(93479),n=e.i(10204),d=e.i(67489),c=e.i(24687),o=e.i(30699),u=e.i(31278),m=e.i(52571),x=e.i(95187);let h=(0,x.createServerReference)("405030b55e39eed51ed15673f8368c28acfcb5cb52",x.callServer,void 0,x.findSourceMapURL,"createIncentiveCampaign");var p=e.i(46696);function j({projects:e,tenantId:x}){let j=(0,s.useRouter)(),[g,b]=(0,t.useState)(!1);async function v(e){b(!0);let a={tenant_id:x,project_id:e.get("project_id"),name:e.get("name"),description:e.get("description"),type:e.get("type"),bonus_value:Number(e.get("bonus_value")),target_count:e.get("target_count")?Number(e.get("target_count")):void 0,start_date:e.get("start_date")||void 0,end_date:e.get("end_date")||void 0};if(!a.name||!a.bonus_value){p.toast.error("Lütfen zorunlu alanları doldurun."),b(!1);return}let t=await h(a);t.error?(p.toast.error(t.error),b(!1)):(p.toast.success("Kampanya başarıyla oluşturuldu."),j.push("/admin/broker-leads/campaigns"))}return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto pb-12",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Yeni Teşvik Kampanyası"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Brokerları motive edecek yeni bir ödül veya bonus programı başlatın."})]}),(0,a.jsx)("form",{action:v,children:(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)(r.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(m.Info,{className:"h-5 w-5 text-blue-600"}),"Temel Bilgiler"]})}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"name",children:"Kampanya Adı *"}),(0,a.jsx)(i.Input,{id:"name",name:"name",placeholder:"Örn: Bahar Lansmanı Özel Bonusu",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"description",children:"Açıklama / Şartlar"}),(0,a.jsx)(c.Textarea,{id:"description",name:"description",placeholder:"Kampanya detaylarını ve katılım şartlarını yazın...",rows:3})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"project_id",children:"Geçerli Proje"}),(0,a.jsxs)(d.Select,{name:"project_id",children:[(0,a.jsx)(d.SelectTrigger,{children:(0,a.jsx)(d.SelectValue,{placeholder:"Tüm Projeler"})}),(0,a.jsxs)(d.SelectContent,{children:[(0,a.jsx)(d.SelectItem,{value:"all",children:"Tüm Projeler"}),e.map(e=>(0,a.jsx)(d.SelectItem,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"type",children:"Kampanya Türü"}),(0,a.jsxs)(d.Select,{name:"type",defaultValue:"Unit Sales",children:[(0,a.jsx)(d.SelectTrigger,{children:(0,a.jsx)(d.SelectValue,{placeholder:"Seçiniz"})}),(0,a.jsxs)(d.SelectContent,{children:[(0,a.jsx)(d.SelectItem,{value:"Unit Sales",children:"Satış Adedi"}),(0,a.jsx)(d.SelectItem,{value:"Volume",children:"Satış Hacmi (₺)"}),(0,a.jsx)(d.SelectItem,{value:"Visits",children:"Ziyaret Adedi"}),(0,a.jsx)(d.SelectItem,{value:"Special",children:"Özel Bonus"})]})]})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)(r.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(o.Gift,{className:"h-5 w-5 text-green-600"}),"Hedef ve Ödül"]})}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"bonus_value",children:"Bonus Tutarı (₺) *"}),(0,a.jsx)(i.Input,{id:"bonus_value",name:"bonus_value",type:"number",placeholder:"0",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"target_count",children:"Hedef Sayı (Opsiyonel)"}),(0,a.jsx)(i.Input,{id:"target_count",name:"target_count",type:"number",placeholder:"Örn: 3 satış"})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"start_date",children:"Başlangıç Tarihi"}),(0,a.jsx)(i.Input,{id:"start_date",name:"start_date",type:"date"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"end_date",children:"Bitiş Tarihi"}),(0,a.jsx)(i.Input,{id:"end_date",name:"end_date",type:"date"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>j.back(),children:"Vazgeç"}),(0,a.jsx)(l.Button,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 font-bold px-8",disabled:g,children:g?(0,a.jsx)(u.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):"Kampanyayı Yayınla"})]})]})})]})}e.s(["default",()=>j],76098)}]);