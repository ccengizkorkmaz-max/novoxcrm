(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68148,e=>{"use strict";var t=e.i(43476);let r=e.i(71645).forwardRef(({className:e,value:r,...a},i)=>(0,t.jsx)("div",{ref:i,className:"relative h-4 w-full overflow-hidden rounded-full bg-secondary",...a,children:(0,t.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));r.displayName="Progress",e.s(["Progress",()=>r])},67423,(e,t,r)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:r,blurHeight:a,blurDataURL:i,objectFit:s}){let l=r?40*r:e,n=a?40*a:t,o=l&&n?`viewBox='0 0 ${l} ${n}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${i}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return l}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=["default","imgix","cloudinary","akamai","custom"],l={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return d}}),e.r(33525);let a=e.r(43369),i=e.r(67423),s=e.r(87690),l=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function d({src:e,sizes:t,unoptimized:r=!1,priority:d=!1,preload:c=!1,loading:u,className:m,quality:p,width:h,height:x,fill:f=!1,style:g,overrideSrc:j,onLoad:y,onLoadingComplete:b,placeholder:v="empty",blurDataURL:k,fetchPriority:w,decoding:_="async",layout:N,objectFit:C,objectPosition:S,lazyBoundary:D,lazyRoot:P,...z},O){var E;let M,I,T,{imgConf:R,showAltText:B,blurComplete:L,defaultLoader:F}=O,A=R||s.imageConfigDefault;if("allSizes"in A)M=A;else{let e=[...A.deviceSizes,...A.imageSizes].sort((e,t)=>e-t),t=A.deviceSizes.sort((e,t)=>e-t),r=A.qualities?.sort((e,t)=>e-t);M={...A,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===F)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let $=z.loader||F;delete z.loader,delete z.srcSet;let U="__next_img_default"in $;if(U){if("custom"===M.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=$;$=t=>{let{config:r,...a}=t;return e(a)}}if(N){"fill"===N&&(f=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[N];e&&(g={...g,...e});let r={responsive:"100vw",fill:"100vw"}[N];r&&!t&&(t=r)}let q="",V=o(h),G=o(x);if((E=e)&&"object"==typeof E&&(n(E)||void 0!==E.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(I=t.blurWidth,T=t.blurHeight,k=k||t.blurDataURL,q=t.src,!f)if(V||G){if(V&&!G){let e=V/t.width;G=Math.round(t.height*e)}else if(!V&&G){let e=G/t.height;V=Math.round(t.width*e)}}else V=t.width,G=t.height}let H=!d&&!c&&("lazy"===u||void 0===u);(!(e="string"==typeof e?e:q)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,H=!1),M.unoptimized&&(r=!0),U&&!M.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let K=o(p),Y=Object.assign(f?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:C,objectPosition:S}:{},B?{}:{color:"transparent"},g),W=L||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,i.getImageBlurSvg)({widthInt:V,heightInt:G,blurWidth:I,blurHeight:T,blurDataURL:k||"",objectFit:Y.objectFit})}")`:`url("${v}")`,X=l.includes(Y.objectFit)?"fill"===Y.objectFit?"100% 100%":"cover":Y.objectFit,J=W?{backgroundSize:X,backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},Q=function({config:e,src:t,unoptimized:r,width:i,quality:s,sizes:l,loader:n}){if(r){let e=(0,a.getDeploymentId)();if(t.startsWith("/")&&!t.startsWith("//")&&e){let r=t.includes("?")?"&":"?";t=`${t}${r}dpl=${e}`}return{src:t,srcSet:void 0,sizes:void 0}}let{widths:o,kind:d}=function({deviceSizes:e,allSizes:t},r,a){if(a){let r=/(^|\s)(1?\d?\d)vw/g,i=[];for(let e;e=r.exec(a);)i.push(parseInt(e[2]));if(i.length){let r=.01*Math.min(...i);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,i,l),c=o.length-1;return{sizes:l||"w"!==d?l:"100vw",srcSet:o.map((r,a)=>`${n({config:e,src:t,quality:s,width:r})} ${"w"===d?r:a+1}${d}`).join(", "),src:n({config:e,src:t,quality:s,width:o[c]})}}({config:M,src:e,unoptimized:r,width:V,quality:K,sizes:t,loader:$}),Z=H?"lazy":u;return{props:{...z,loading:Z,fetchPriority:w,width:V,height:G,decoding:_,className:m,style:{...Y,...J},sizes:Q.sizes,srcSet:Q.srcSet,src:j||Q.src},meta:{unoptimized:r,preload:c||d,placeholder:v,fill:f}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let a=e.r(71645),i="u"<typeof window,s=i?()=>{}:a.useLayoutEffect,l=i?()=>{}:a.useEffect;function n(e){let{headManager:t,reduceComponentsToState:r}=e;function n(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return i&&(t?.mountedInstances?.add(e.children),n()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=n),()=>{t&&(t._pendingUpdate=n)})),l(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return x},defaultHead:function(){return u}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(55682),l=e.r(90809),n=e.r(43476),o=l._(e.r(71645)),d=s._(e.r(98879)),c=e.r(42732);function u(){return[(0,n.jsx)("meta",{charSet:"utf-8"},"charset"),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let p=["name","httpEquiv","charSet","itemProp"];function h(e){let t,r,a,i;return e.reduce(m,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,a=new Set,i={},e=>{let s=!0,l=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){l=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=p.length;t<r;t++){let r=p[t];if(e.props.hasOwnProperty(r))if("charSet"===r)a.has(r)?s=!1:a.add(r);else{let t=e.props[r],a=i[r]||new Set;("name"!==r||!l)&&a.has(t)?s=!1:(a.add(t),i[r]=a)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return o.default.cloneElement(e,{key:r})})}let x=function({children:e}){let t=(0,o.useContext)(c.HeadManagerContext);return(0,n.jsx)(d.default,{reduceComponentsToState:h,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let a=e.r(55682)._(e.r(71645)),i=e.r(87690),s=a.default.createContext(i.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return a}});let a=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,r)=>{"use strict";function a(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return a}})},1948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let a=e.r(70965),i=e.r(43369);function s({config:e,src:t,width:r,quality:s}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let l=(0,a.findClosestQuality)(s,e),n=(0,i.getDeploymentId)();return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${l}${t.startsWith("/")&&n?`&dpl=${n}`:""}`}s.__next_img_default=!0;let l=s},5500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return b}});let a=e.r(55682),i=e.r(90809),s=e.r(43476),l=i._(e.r(71645)),n=a._(e.r(74080)),o=a._(e.r(25633)),d=e.r(8927),c=e.r(87690),u=e.r(18556);e.r(33525);let m=e.r(65856),p=a._(e.r(1948)),h=e.r(18581),x={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function f(e,t,r,a,i,s,l){let n=e?.src;e&&e["data-loaded-src"]!==n&&(e["data-loaded-src"]=n,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function g(e){return l.use?{fetchPriority:e}:{fetchpriority:e}}"u"<typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let j=(0,l.forwardRef)(({src:e,srcSet:t,sizes:r,height:a,width:i,decoding:n,className:o,style:d,fetchPriority:c,placeholder:u,loading:m,unoptimized:p,fill:x,onLoadRef:j,onLoadingCompleteRef:y,setBlurComplete:b,setShowAltText:v,sizesInput:k,onLoad:w,onError:_,...N},C)=>{let S=(0,l.useCallback)(e=>{e&&(_&&(e.src=e.src),e.complete&&f(e,u,j,y,b,p,k))},[e,u,j,y,b,_,p,k]),D=(0,h.useMergedRef)(C,S);return(0,s.jsx)("img",{...N,...g(c),loading:m,width:i,height:a,decoding:n,"data-nimg":x?"fill":"1",className:o,style:d,sizes:r,srcSet:t,src:e,ref:D,onLoad:e=>{f(e.currentTarget,u,j,y,b,p,k)},onError:e=>{v(!0),"empty"!==u&&b(!0),_&&_(e)}})});function y({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...g(t.fetchPriority)};return e&&n.default.preload?(n.default.preload(t.src,r),null):(0,s.jsx)(o.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let b=(0,l.forwardRef)((e,t)=>{let r=(0,l.useContext)(m.RouterContext),a=(0,l.useContext)(u.ImageConfigContext),i=(0,l.useMemo)(()=>{let e=x||a||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),i=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:i,localPatterns:"u"<typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:n,onLoadingComplete:o}=e,h=(0,l.useRef)(n);(0,l.useEffect)(()=>{h.current=n},[n]);let f=(0,l.useRef)(o);(0,l.useEffect)(()=>{f.current=o},[o]);let[g,b]=(0,l.useState)(!1),[v,k]=(0,l.useState)(!1),{props:w,meta:_}=(0,d.getImgProps)(e,{defaultLoader:p.default,imgConf:i,blurComplete:g,showAltText:v});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j,{...w,unoptimized:_.unoptimized,placeholder:_.placeholder,fill:_.fill,onLoadRef:h,onLoadingCompleteRef:f,setBlurComplete:b,setShowAltText:k,sizesInput:e.sizes,ref:t}),_.preload?(0,s.jsx)(y,{isAppRouter:!r,imgAttributes:w}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return d}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(55682),l=e.r(8927),n=e.r(5500),o=s._(e.r(1948));function d(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=n.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},21075,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(11795),i=e.i(19455);let s=(0,e.i(75254).default)("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);var l=e.i(31278),n=e.i(27612),o=e.i(88699),d=e.i(57688),c=e.i(75157);function u({value:e,onChange:u,disabled:m}){let[p,h]=(0,r.useState)(!1),x=(0,r.useRef)(null),f=async e=>{let t=e.target.files?.[0];if(!t)return;h(!0);let r=(0,a.createClient)();try{let e=t.name.split(".").pop(),a=`${Math.random()}.${e}`,i=`${a}`,{error:s}=await r.storage.from("crm-images").upload(i,t);if(s)throw s;let{data:l}=r.storage.from("crm-images").getPublicUrl(i);u(l.publicUrl)}catch(e){console.error("Upload Error:",e),alert("GÃ¶rsel yÃ¼klenirken bir hata oluÅŸtu.")}finally{h(!1)}},g=()=>{x.current?.click()};return(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",ref:x,onChange:f,disabled:m||p}),(0,t.jsxs)("div",{onClick:g,className:(0,c.cn)("relative w-[200px] h-[130px] rounded-md border border-dashed flex items-center justify-center bg-muted/50 overflow-hidden cursor-pointer hover:bg-muted/70 transition-colors",m&&"opacity-50 cursor-not-allowed"),children:[e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[(0,t.jsx)(i.Button,{type:"button",onClick:e=>{e.stopPropagation(),g()},variant:"secondary",size:"icon",className:"h-8 w-8 bg-white/80 hover:bg-white",children:(0,t.jsx)(o.Pencil,{className:"h-4 w-4 text-gray-700"})}),(0,t.jsx)(i.Button,{type:"button",onClick:e=>{e.stopPropagation(),u(""),x.current&&(x.current.value="")},variant:"destructive",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(n.Trash2,{className:"h-4 w-4"})})]}),(0,t.jsx)(d.default,{fill:!0,src:e,alt:"Upload",className:"object-cover"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-muted-foreground text-xs gap-1",children:[(0,t.jsx)(s,{className:"h-8 w-8 opacity-50"}),(0,t.jsx)("span",{children:"GÃ¶rsel YÃ¼kle"})]}),p&&(0,t.jsx)("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-20",children:(0,t.jsx)(l.Loader2,{className:"h-6 w-6 animate-spin"})})]})]})}function m({name:e,defaultValue:a}){let[i,s]=(0,r.useState)(a||"");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"hidden",name:e,value:i}),(0,t.jsx)(u,{value:i,onChange:s})]})}e.s(["FormImageUpload",()=>m],21075)},47456,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19455),i=e.i(93479),s=e.i(7233),l=e.i(27612);function n({defaultValue:e=[],onValueChange:n}){let[o,d]=(0,r.useState)(e.length>0?e:[{room:"",area:0}]);(0,r.useEffect)(()=>{let e=o.filter(e=>e.room&&e.area>0);n?.(e)},[o,n]);let c=(e,t,r)=>{d(a=>{let i=[...a];return i[e]={...i[e],[t]:r},i})};return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("input",{type:"hidden",name:"room_areas",value:JSON.stringify(o.filter(e=>e.room&&e.area>0))}),o.map((e,r)=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,t.jsx)("div",{className:"col-span-6",children:(0,t.jsx)(i.Input,{placeholder:"Oda adÄ± (Salon, Mutfak, vb.)",value:e.room,onChange:e=>c(r,"room",e.target.value)})}),(0,t.jsx)("div",{className:"col-span-4",children:(0,t.jsx)(i.Input,{type:"number",placeholder:"mÂ²",value:e.area||"",onChange:e=>c(r,"area",parseFloat(e.target.value)||0)})}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{d(e=>e.filter((e,t)=>t!==r))},disabled:1===o.length,children:(0,t.jsx)(l.Trash2,{className:"h-4 w-4"})})})]},r)),(0,t.jsxs)(a.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{d(e=>[...e,{room:"",area:0}])},className:"w-full",children:[(0,t.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Oda Ekle"]}),o.filter(e=>e.room&&e.area>0).length>0&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Toplam: ",o.reduce((e,t)=>e+(t.area||0),0).toFixed(2)," mÂ²"]})]})}e.s(["RoomAreasInput",()=>n])},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},94918,e=>{"use strict";let t=(0,e.i(75254).default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);e.s(["FileSpreadsheet",()=>t],94918)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},74177,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19455),i=e.i(93479),s=e.i(46897),l=e.i(78917),n=e.i(76639),o=e.i(10204);function d({address:e,latitude:d,longitude:c}){let[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(e||""),[x,f]=(0,r.useState)(d?.toString()||""),[g,j]=(0,r.useState)(c?.toString()||"");return(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Input,{name:"location_display",defaultValue:e||"",placeholder:"Lokasyon seÃ§ilmedi",className:"flex-1",readOnly:!0}),(0,t.jsx)("input",{type:"hidden",name:"latitude",defaultValue:d||""}),(0,t.jsx)("input",{type:"hidden",name:"longitude",defaultValue:c||""}),(0,t.jsxs)(n.Dialog,{open:u,onOpenChange:m,children:[(0,t.jsx)(n.DialogTrigger,{asChild:!0,children:(0,t.jsx)(a.Button,{type:"button",variant:"outline",size:"icon",title:"Lokasyon DÃ¼zenle",children:(0,t.jsx)(s.MapPin,{className:"h-4 w-4"})})}),(0,t.jsxs)(n.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(n.DialogHeader,{children:[(0,t.jsx)(n.DialogTitle,{children:"Lokasyon Bilgisi"}),(0,t.jsx)(n.DialogDescription,{children:"Google Maps'ten koordinatlarÄ± kopyalayÄ±p buraya yapÄ±ÅŸtÄ±rÄ±n."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"temp-address",children:"Adres"}),(0,t.jsx)(i.Input,{id:"temp-address",value:p,onChange:e=>h(e.target.value),placeholder:"Ã–rn: Fatih, Ä°stanbul"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"temp-lat",children:"Enlem (Latitude)"}),(0,t.jsx)(i.Input,{id:"temp-lat",type:"number",step:"any",value:x,onChange:e=>f(e.target.value),placeholder:"41.0082"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"temp-lng",children:"Boylam (Longitude)"}),(0,t.jsx)(i.Input,{id:"temp-lng",type:"number",step:"any",value:g,onChange:e=>j(e.target.value),placeholder:"28.9784"})]})]}),(0,t.jsxs)(a.Button,{type:"button",variant:"outline",className:"w-full",onClick:()=>{let e=p||"Turkey";window.open(`https://www.google.com/maps/search/${encodeURIComponent(e)}`,"_blank")},children:[(0,t.jsx)(l.ExternalLink,{className:"mr-2 h-4 w-4"}),"Google Maps'te AÃ§"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Google Maps'te konumu bulun, koordinatlara saÄŸ tÄ±klayÄ±p kopyalayÄ±n ve yukarÄ±daki alanlara yapÄ±ÅŸtÄ±rÄ±n."})]}),(0,t.jsxs)(n.DialogFooter,{children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ä°ptal"}),(0,t.jsx)(a.Button,{type:"button",onClick:()=>{let e=document.querySelector('input[name="location_display"]'),t=document.querySelector('input[name="latitude"]'),r=document.querySelector('input[name="longitude"]');e&&(e.value=p),t&&(t.value=x),r&&(r.value=g),m(!1)},children:"Kaydet"})]})]})]}),d&&c&&(0,t.jsx)(a.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{d&&c?window.open(`https://www.google.com/maps?q=${d},${c}`,"_blank"):e&&window.open(`https://www.google.com/maps/search/${encodeURIComponent(e)}`,"_blank")},title:"Google Maps'te GÃ¶ster",children:"Haritada GÃ¶ster"})]})}e.s(["LocationPicker",()=>d])},13918,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19455),i=e.i(93479),s=e.i(10204),l=e.i(24687),n=e.i(69074),o=e.i(31278),d=e.i(76639);function c({projectId:e,onUpload:c}){let[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[x,f]=(0,r.useState)(null);async function g(t){t.preventDefault(),h(!0);let r=new FormData(t.currentTarget);r.append("project_id",e);try{let e=await c(r);h(!1),e?.success?(alert("DÃ¶kÃ¼man baÅŸarÄ±yla yÃ¼klendi!"),m(!1),f(null),t.target.reset(),window.location.reload()):alert(e?.error||"YÃ¼kleme baÅŸarÄ±sÄ±z. LÃ¼tfen tekrar deneyin.")}catch(e){h(!1),console.error("Upload error:",e),alert("Bir hata oluÅŸtu. LÃ¼tfen konsolu kontrol edin.")}}return(0,t.jsxs)(d.Dialog,{open:u,onOpenChange:m,children:[(0,t.jsx)(d.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{children:[(0,t.jsx)(n.Upload,{className:"mr-2 h-4 w-4"}),"DÃ¶kÃ¼man YÃ¼kle"]})}),(0,t.jsxs)(d.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:"Yeni DÃ¶kÃ¼man YÃ¼kle"}),(0,t.jsx)(d.DialogDescription,{children:"Projeye ait dÃ¶kÃ¼man yÃ¼kleyin (PDF, resim, Word, Excel vb.)"})]}),(0,t.jsxs)("form",{onSubmit:g,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"document_name",children:"DÃ¶kÃ¼man AdÄ± *"}),(0,t.jsx)(i.Input,{id:"document_name",name:"document_name",placeholder:"Ã–rn: Ä°mar PlanÄ±",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"description",children:"AÃ§Ä±klama"}),(0,t.jsx)(l.Textarea,{id:"description",name:"description",placeholder:"DÃ¶kÃ¼man hakkÄ±nda kÄ±sa aÃ§Ä±klama",rows:3})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"file",children:"Dosya *"}),(0,t.jsx)(i.Input,{id:"file",name:"file",type:"file",required:!0,onChange:e=>f(e.target.files?.[0]||null)}),x&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["SeÃ§ili: ",x.name," (",(x.size/1024/1024).toFixed(2)," MB)"]})]})]}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:p,children:"Ä°ptal"}),(0,t.jsxs)(a.Button,{type:"submit",disabled:p,children:[p&&(0,t.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"YÃ¼kle"]})]})]})]})]})}e.s(["DocumentUpload",()=>c])},20246,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19455),i=e.i(76639),s=e.i(93479),l=e.i(10204),n=e.i(7233),o=e.i(47456),d=e.i(18566);let c=["Daire","Depo","DÃ¼kkan","Ofis","Villa","Dubleks Daire","BahÃ§e Dubleks Daire","Ã‡atÄ± Dubleks Daire","Roof Daire","Loft Daire","Penthouse","Ticari Alan"];function u({projectId:e,action:u}){let[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),[j,y]=(0,r.useState)([]),b=(0,d.useRouter)();async function v(t){x(!0),g(null),j.length>0&&t.set("room_areas",JSON.stringify(j)),console.log("BatchUnitCreator room_areas (manual):",t.get("room_areas"));let r=await u(t);if(x(!1),r?.error){console.error("Batch Create Error:",r.error),g(r.error);return}p(!1),b.refresh(),b.push(`/projects/${e}?tab=units`)}return(0,t.jsxs)(i.Dialog,{open:m,onOpenChange:p,children:[(0,t.jsx)(i.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{children:[(0,t.jsx)(n.Plus,{className:"w-4 h-4 mr-2"})," Ãœnite Ekle"]})}),(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-[800px]",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{children:"Toplu Ãœnite OluÅŸturma"}),(0,t.jsx)(i.DialogDescription,{children:"Birden fazla Ã¼niteyi hÄ±zlÄ±ca sisteme ekleyin."})]}),(0,t.jsxs)("form",{action:v,children:[(0,t.jsx)("input",{type:"hidden",name:"project_id",value:e}),(0,t.jsxs)("div",{className:"py-4 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Temel Bilgiler"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"unit_category",children:"Ãœnite TÃ¼rÃ¼"}),(0,t.jsxs)("select",{id:"unit_category",name:"unit_category",required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,t.jsx)("option",{value:"",children:"SeÃ§iniz..."}),c.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"type",children:"Oda Tipi"}),(0,t.jsxs)("select",{id:"type",name:"type",required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,t.jsx)("option",{value:"",children:"SeÃ§iniz..."}),(0,t.jsx)("option",{value:"1+1",children:"1+1"}),(0,t.jsx)("option",{value:"2+1",children:"2+1"}),(0,t.jsx)("option",{value:"3+1",children:"3+1"}),(0,t.jsx)("option",{value:"4+1",children:"4+1"}),(0,t.jsx)("option",{value:"Villa",children:"Villa"}),(0,t.jsx)("option",{value:"Commercial",children:"Ticari"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"count",children:"Adet"}),(0,t.jsx)(s.Input,{id:"count",name:"count",type:"number",defaultValue:"10",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"area_gross",children:"BrÃ¼t Alan (mÂ²)"}),(0,t.jsx)(s.Input,{id:"area_gross",name:"area_gross",type:"number",step:"0.01",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"price",children:"Liste FiyatÄ±"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s.Input,{id:"price",name:"price",type:"number",required:!0,className:"flex-1"}),(0,t.jsxs)("select",{name:"currency",className:"w-20 rounded-md border border-input bg-background px-3 py-2 text-sm",defaultValue:"TRY",children:[(0,t.jsx)("option",{value:"TRY",children:"TRY"}),(0,t.jsx)("option",{value:"USD",children:"USD"}),(0,t.jsx)("option",{value:"EUR",children:"EUR"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"max_discount_rate",children:"Max. Ä°skonto (%)"}),(0,t.jsx)(s.Input,{id:"max_discount_rate",name:"max_discount_rate",type:"number",step:"0.1",defaultValue:"0"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"block",children:"Blok"}),(0,t.jsx)(s.Input,{id:"block",name:"block",defaultValue:"A",placeholder:"Ã–rn: A"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"start_number",children:"BaÅŸlangÄ±Ã§ NumarasÄ±"}),(0,t.jsx)(s.Input,{id:"start_number",name:"start_number",type:"number",defaultValue:"1"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider border-t pt-4",children:"Ãœnite Ã–zellikleri"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"parking_type",children:"Otopark"}),(0,t.jsxs)("select",{id:"parking_type",name:"parking_type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm border-s-muted-foreground/20",children:[(0,t.jsx)("option",{value:"",children:"SeÃ§iniz..."}),(0,t.jsx)("option",{value:"KapalÄ± Otopark",children:"ðŸ…¿ï¸ Var, KapalÄ±"}),(0,t.jsx)("option",{value:"AÃ§Ä±k Otopark",children:"ðŸ…¿ï¸ Var, AÃ§Ä±k"}),(0,t.jsx)("option",{value:"Yok",children:"âŒ Yok"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"heating_type",children:"IsÄ±tma"}),(0,t.jsxs)("select",{id:"heating_type",name:"heating_type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm border-s-muted-foreground/20",children:[(0,t.jsx)("option",{value:"",children:"SeÃ§iniz..."}),(0,t.jsx)("option",{value:"Kombi",children:"ðŸ”¥ Kombi"}),(0,t.jsx)("option",{value:"Kombi Yerden IsÄ±tma",children:"ðŸ”¥ Kombi Yerden"}),(0,t.jsx)("option",{value:"Merkezi Sistem",children:"ðŸ¢ Merkezi"}),(0,t.jsx)("option",{value:"Merkezi Sistem Yerden IsÄ±tma",children:"ðŸ¢ Merkezi Yerden"}),(0,t.jsx)("option",{value:"Klima",children:"â„ï¸ Klima"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"direction",children:"Cephe"}),(0,t.jsxs)("select",{id:"direction",name:"direction",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm border-s-muted-foreground/20",children:[(0,t.jsx)("option",{value:"",children:"SeÃ§iniz..."}),(0,t.jsx)("option",{value:"Kuzey",children:"â¬†ï¸ Kuzey"}),(0,t.jsx)("option",{value:"GÃ¼ney",children:"â¬‡ï¸ GÃ¼ney"}),(0,t.jsx)("option",{value:"DoÄŸu",children:"âž¡ï¸ DoÄŸu"}),(0,t.jsx)("option",{value:"BatÄ±",children:"â¬…ï¸ BatÄ±"}),(0,t.jsx)("option",{value:"Kuzey BatÄ±",children:"â†–ï¸ Kuzey BatÄ±"}),(0,t.jsx)("option",{value:"Kuzey DoÄŸu",children:"â†—ï¸ Kuzey DoÄŸu"}),(0,t.jsx)("option",{value:"GÃ¼ney DoÄŸu",children:"â†˜ï¸ GÃ¼ney DoÄŸu"}),(0,t.jsx)("option",{value:"GÃ¼ney BatÄ±",children:"â†™ï¸ GÃ¼ney BatÄ±"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"kitchen_type",children:"Mutfak Tipi"}),(0,t.jsxs)("select",{id:"kitchen_type",name:"kitchen_type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm border-s-muted-foreground/20",children:[(0,t.jsx)("option",{value:"",children:"SeÃ§iniz..."}),(0,t.jsx)("option",{value:"KapalÄ± Mutfak",children:"ðŸšª KapalÄ±"}),(0,t.jsx)("option",{value:"AÃ§Ä±k Mutfak",children:"ðŸ³ AÃ§Ä±k"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"has_builtin_kitchen",children:"Ankastre Mutfak"}),(0,t.jsxs)("select",{id:"has_builtin_kitchen",name:"has_builtin_kitchen",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm border-s-muted-foreground/20",children:[(0,t.jsx)("option",{value:"false",children:"âŒ Yok"}),(0,t.jsx)("option",{value:"true",children:"âœ… Var"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"has_master_bathroom",children:"Ebeveyn Banyosu"}),(0,t.jsxs)("select",{id:"has_master_bathroom",name:"has_master_bathroom",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm border-s-muted-foreground/20",children:[(0,t.jsx)("option",{value:"false",children:"âŒ Yok"}),(0,t.jsx)("option",{value:"true",children:"âœ… Var"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider border-t pt-4",children:"Oda DaÄŸÄ±lÄ±mÄ±"}),(0,t.jsx)(o.RoomAreasInput,{onValueChange:y})]})]}),(0,t.jsxs)(i.DialogFooter,{children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Ä°ptal"}),(0,t.jsx)(a.Button,{type:"submit",disabled:h,children:h?"OluÅŸturuluyor...":"Ãœniteleri OluÅŸtur"})]})]})]})]})}e.s(["BatchUnitCreator",()=>u])},94340,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19455),i=e.i(93479),s=e.i(10204),l=e.i(31278),n=e.i(94918),o=e.i(76639);function d({projectId:e,onImport:d}){let[c,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)(null);async function f(t){t.preventDefault(),p(!0);let r=new FormData(t.currentTarget);r.append("project_id",e);try{let e=await d(r);p(!1),e?.success?(alert(`${e.count||0} \xfcnite baÅŸarÄ±yla i\xe7e aktarÄ±ldÄ±!`),u(!1),x(null),t.target.reset(),window.location.reload()):alert(e?.error||"Ä°Ã§e aktarma baÅŸarÄ±sÄ±z. LÃ¼tfen dosya formatÄ±nÄ± kontrol edin.")}catch(e){p(!1),console.error("Import error:",e),alert("Bir hata oluÅŸtu. LÃ¼tfen konsolu kontrol edin.")}}return(0,t.jsxs)(o.Dialog,{open:c,onOpenChange:u,children:[(0,t.jsx)(o.DialogTrigger,{asChild:!0,children:(0,t.jsx)(a.Button,{variant:"outline",size:"icon",title:"Excel'den Ä°Ã§e Aktar",children:(0,t.jsx)(n.FileSpreadsheet,{className:"h-4 w-4"})})}),(0,t.jsxs)(o.DialogContent,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:"Excel'den Ãœnite Ä°Ã§e Aktar"}),(0,t.jsxs)(o.DialogDescription,{children:["Excel dosyasÄ±ndan toplu Ã¼nite yÃ¼kleyin. Dosya ÅŸu kolonlarÄ± iÃ§ermelidir:",(0,t.jsx)("br",{}),(0,t.jsx)("code",{className:"text-xs bg-muted px-1 py-0.5 rounded block mt-2 w-fit",children:"unit_number, type, status, price, area_gross, floor, block"})]})]}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"file",children:"Excel DosyasÄ± (.xlsx, .csv)"}),(0,t.jsx)(i.Input,{id:"file",name:"file",type:"file",accept:".xlsx,.xls,.csv",required:!0,className:"cursor-pointer",onChange:e=>x(e.target.files?.[0]||null)}),h&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["SeÃ§ili: ",h.name]})]}),(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-lg text-xs overflow-x-auto",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"Ã–rnek Format:"}),(0,t.jsxs)("pre",{className:"text-xs whitespace-pre",children:["unit_number | type | status    | price  | area_gross | floor | block","\n","A-101       | 2+1  | For Sale  | 500000 | 120        | 1     | A","\n","A-102       | 3+1  | For Sale  | 750000 | 150        | 1     | A"]})]})]}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:m,children:"Ä°ptal"}),(0,t.jsxs)(a.Button,{type:"submit",disabled:m,children:[m&&(0,t.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Ä°Ã§e Aktar"]})]})]})]})]})}e.s(["ExcelImport",()=>d])},98471,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(15288),i=e.i(19455),s=e.i(93479),l=e.i(10204),n=e.i(84774),o=e.i(68148),d=e.i(7233),c=e.i(27612);let u=(0,e.i(75254).default)("hard-hat",[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]]);var m=e.i(46696);function p({projectId:e,stages:p,units:h,unitProgress:x,onAddStage:f,onUpdateStage:g,onDeleteStage:j,onUpdateUnitProgress:y}){let[b,v]=(0,r.useState)(""),[k,w]=(0,r.useState)(0),[_,N]=(0,r.useState)(!1),C=async()=>{if(!b)return;let t=await f(e,b,k);t.success?(v(""),w(0),m.toast.success("AÅŸama eklendi")):m.toast.error(t.error)},S=()=>{if(0===p.length)return 0;let e=p.reduce((e,t)=>e+Number(t.weight),0);if(0===e)return 0;let t=0;return p.forEach(r=>{let a=x.filter(e=>e.stage_id===r.id);if(a.length>0){let i=a.reduce((e,t)=>e+Number(t.completion_percentage),0)/h.length;t+=i*Number(r.weight)/e}}),Math.round(t)};return(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)(a.Card,{className:"bg-primary/5 border-primary/20",children:[(0,t.jsxs)(a.CardHeader,{className:"pb-2",children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"w-5 h-5 text-primary"}),"Genel Ä°nÅŸaat Ä°lerlemesi"]}),(0,t.jsx)(a.CardDescription,{children:"TÃ¼m Ã¼nitelerin ve aÅŸamalarÄ±n aÄŸÄ±rlÄ±klÄ± ortalamasÄ±."})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end mb-1",children:[(0,t.jsxs)("span",{className:"text-3xl font-bold",children:[S(),"%"]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Hedef: %100"})]}),(0,t.jsx)(o.Progress,{value:S(),className:"h-3"})]})})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,t.jsxs)(a.Card,{className:"md:col-span-1",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Ä°nÅŸaat AÅŸamalarÄ±"}),(0,t.jsx)(a.CardDescription,{children:"Proje geneli ana iÅŸ kalemleri."})]}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-2",children:p.map(r=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:r.name}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["AÄŸÄ±rlÄ±k: %",r.weight]})]}),(0,t.jsx)(i.Button,{size:"icon",variant:"ghost",onClick:()=>j(r.id,e),children:(0,t.jsx)(c.Trash2,{className:"w-4 h-4 text-destructive"})})]},r.id))}),(0,t.jsxs)("div",{className:"pt-4 border-t space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(l.Label,{children:"Yeni AÅŸama AdÄ±"}),(0,t.jsx)(s.Input,{placeholder:"Ã–rn: Kaba Ä°nÅŸaat",value:b,onChange:e=>v(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(l.Label,{children:"AÄŸÄ±rlÄ±k (%)"}),(0,t.jsx)(s.Input,{type:"number",value:k,onChange:e=>w(Number(e.target.value))})]}),(0,t.jsxs)(i.Button,{className:"w-full",onClick:C,children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4 mr-2"})," Ekle"]})]})]})]}),(0,t.jsxs)(a.Card,{className:"md:col-span-2",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Ãœnite BazlÄ± Ä°lerleme GiriÅŸi"}),(0,t.jsx)(a.CardDescription,{children:"Her dairenin aÅŸama bazlÄ± gerÃ§ekleÅŸme yÃ¼zdesi."})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"max-h-[600px] overflow-auto border rounded-md",children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableHead,{children:"Ãœnite"}),p.map(e=>(0,t.jsx)(n.TableHead,{className:"text-center min-w-[100px]",children:e.name},e.id))]})}),(0,t.jsx)(n.TableBody,{children:h.map(r=>(0,t.jsxs)(n.TableRow,{children:[(0,t.jsxs)(n.TableCell,{className:"font-medium whitespace-nowrap",children:[r.block,"-",r.unit_number]}),p.map(a=>{let i=x.find(e=>e.unit_id===r.id&&e.stage_id===a.id);return(0,t.jsx)(n.TableCell,{className:"p-2",children:(0,t.jsx)(s.Input,{type:"number",className:"h-8 text-center text-xs",defaultValue:i?.completion_percentage||0,onBlur:async t=>{let s=Number(t.target.value);s!==(i?.completion_percentage||0)&&await y(r.id,a.id,s,e)}})},a.id)})]},r.id))})]})})})]})]})]})}e.s(["ConstructionProgress",()=>p],98471)}]);